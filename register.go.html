<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <title>Register Student</title>
</head>

<body>
    <div class="container" style="margin-top:50px">
        <h1>Register Student</h1>

        <!--Register Form-->
        <form action="/register" method="post">
            <div class="form-group">
                <label for="Vorname">Vorname</label>
                <input oninput="checkMatrikel()" id="fname" class="form-control" type="text" name="vorname">

                <label for="Vorname">Nachname</label>
                <input oninput="checkMatrikel()" id="lname" class="form-control" type="text" name="nachname">

                <label for="matrikel">Matrikelnummer</label>
                <input id="matrikel" oninput="checkMatrikel()" class="form-control" type="number" name="matrikel" id="">

                <!--Validation Error-->
                <div id="errorinfo" class="alert alert-danger">
                    Bitte Name, Vorname und gültige Matrikelnummer angeben
                </div>
                <input disabled="true" id="submitButton" class="btn btn-primary" type="submit" value="register">
            </div>
        </form>
        <a href="./studentlist">
            <button type="button" class="btn btn-primary">Studentlist</button>
        </a>
    </div>
    <script>

        function checkMatrikel() {

            //Check conditions - Todo: Matrikelnummern wie verteilt? Eventuell mit Go existierende Nummern übergeben?
            var mat = document.getElementById("matrikel").value;
            var lname = document.getElementById("lname").value;
            var fname = document.getElementById("fname").value;

            if (mat < 100000 || lname == "" || fname == "") {
                document.getElementById("errorinfo").style.display = 'block';
                document.getElementById("submitButton").disabled = true;
            } else {
                document.getElementById("errorinfo").style.display = 'none';
                document.getElementById("submitButton").disabled = false;
            }
        }
    </script>
</body>

</html>